<!DOCTYPE html>
<html layout:decorate="~{layout}"> <!-- layout 파일을 적용 -->
    <th:block layout:fragment="content"> <!-- content fragment 지정 -->
        <!-- Styles -->
        <link rel="stylesheet" href="contest.css">
        <main>
            <h1 class="page-title">공모전 게시판</h1>
            <div class="card-container">
                <th:block th:each="competition : ${competitions}">
                    <div class="card">
                        <div class="card-image" onclick="openModal(this)">
                            <img th:src="${competition.imageUrl}" alt="Competition Image">
                        </div>
                        <div class="card-content" onclick="navigateToDetail('${competition.id}')">
                            <h2 class="card-title" th:text="${competition.title}"></h2>
                            <p class="card-date">
                                <span th:text="${competition.date}"></span>
                            </p>
                            <!-- 인원모집하러가기 버튼 -->
                            <button class="recruit-button"
                                    onclick="event.stopPropagation(); window.location.href='/recruit/list';">
                                인원모집하러가기
                            </button>
                        </div>
                    </div>
                </th:block>
            </div>
        </main>
        
        <!-- Modal -->
        <div id="imageModal" class="modal">
            <span class="close">&times;</span>
            <img class="modal-content" id="modalImage">
        </div>

        <!-- Scripts -->
        <script src="https://kit.fontawesome.com/b7507b22be.js" crossorigin="anonymous"></script>
        <script src="contest.js"></script>
    </th:block>
</html>
